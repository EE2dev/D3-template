!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3")):"function"==typeof define&&define.amd?define(["exports","d3"],e):e(t.reusableChart={},t.d3)}(this,function(t,u){"use strict";function a(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=+t[e]);return t}t.chart=function(n){var i={};function e(e){e.each(function(t){console.log(t),console.log("_myData "+n),void 0!==t?r(e,t):function(t,e,n,i){if(void 0!==t)u.dsv(",",t,a).then(function(t){console.log(t),i(e,t)});else{var r=u.select("aside#data").text(),o=u.csvParse(r.replace(/^\s+|\s+$|\s+(?=\s)/g,""));o.forEach(function(t){a(t)}),n&&console.log(o),i(e,o)}}(n,e,i.debugOn,r)})}function r(t,e){var n,a,d;n=t,a=e,(d=i).debugOn&&console.log(a),n.each(function(){var n=d.height/a.length,t=n-d.barPadding,e=u.max(a,function(t){return t.att1}),i=d.width/e,r=u.select(this).append("svg").attr("class","bar-chart").attr("height",d.height).attr("width",d.width).style("fill",d.fillColor),o=r.selectAll("rect.display-bar").data(a).enter().append("rect").attr("class","display-bar").attr("y",function(t,e){return e*n}).attr("height",t).attr("x",0).attr("width",function(t){return t.att1*i});d.updateWidth=function(){i=d.width/e,o.transition().duration(1e3).attr("width",function(t){return t.att1*i}),r.transition().duration(1e3).attr("width",d.width)}})}return i.width=500,i.height=300,i.barPadding=1,i.fillColor="coral",i.debugOn=!1,e.width=function(t){return arguments.length?(i.width=t,"function"==typeof i.updateWidth&&i.updateWidth(),e):i.width},e.debugOn=function(t){return arguments.length?(i.debugOn=t,e):i.debugOn},e},Object.defineProperty(t,"__esModule",{value:!0})});